<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rd formatting • roxygen2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Rd formatting">
<meta property="og:description" content="roxygen2">
<meta property="og:image" content="https://roxygen2.r-lib.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">roxygen2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">7.1.1.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/roxygen2.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/extending.html">Extending roxygen2</a>
    </li>
    <li>
      <a href="../articles/namespace.html">NAMESPACE tags</a>
    </li>
    <li>
      <a href="../articles/rd-formatting.html">Rd formatting</a>
    </li>
    <li>
      <a href="../articles/rd.html">Rd (documentation) tags</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/03/roxygen2-7-1-0/" class="external-link">Version 7.1.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2019/11/roxygen2-7-0-0/" class="external-link">Version 7.0.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2017/02/01/roxygen2-6-0-0/" class="external-link">Version 6.0.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2015/10/29/roxygen2-5-0-0/" class="external-link">Version 5.0.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2014/05/19/roxygen2-4-0-1/" class="external-link">Version 4.0.1</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2013/12/09/roxygen2-3-0-0/" class="external-link">Version 3.0.0</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-lib/roxygen2/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rd-formatting_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Rd formatting</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/roxygen2/blob/HEAD/vignettes/rd-formatting.Rmd" class="external-link"><code>vignettes/rd-formatting.Rmd</code></a></small>
      <div class="hidden name"><code>rd-formatting.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Starting from version 6.0.0, roxygen supports markdown markup within most roxygen tags. Roxygen uses the <a href="https://github.com/jeroen/commonmark" class="external-link">commonmark package</a>, which is based on the CommonMark Reference Implementation to parse these tags. See <a href="https://commonmark.org/help/" class="external-link uri">https://commonmark.org/help/</a> for more about the parser and the markdown language it supports. You can also still use the <code>.Rd</code> syntax, some of which we will present below in the <a href="#rd-syntax">Rd syntax</a> section.</p>
</div>
<div class="section level2">
<h2 id="turning-on-markdown-support">Turning on markdown support<a class="anchor" aria-label="anchor" href="#turning-on-markdown-support"></a>
</h2>
<p>There are two ways to turn on markdown support for a package: globally, at the package level, and locally at the block level.</p>
<p>To turn on markdown for the whole package, insert this entry into the <code>DESCRIPTION</code> file of the package:</p>
<pre><code><span class="va">Roxygen</span><span class="op">:</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>markdown <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>The position of the entry in the file does not matter. After this, all Roxygen documentation will be parsed as markdown.</p>
<p>Alternatively, you can use the <code>@md</code> tag to turn on markdown support for a single documentation chunk. This is a good option to write any new documentation for existing packages in markdown.</p>
<p>There is also a new <code>@noMd</code> tag. Use this if you turned on markdown parsing globally, but need to avoid it for a single chunk. This tag is handy if the markdown parser interferes with more complex Rd syntax.</p>
<p>Here is an example roxygen chunk that uses markdown.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Use roxygen to document a package</span>
<span class="co">#'</span>
<span class="co">#' This function is a wrapper for the [roxygen2::roxygenize()] function from</span>
<span class="co">#' the roxygen2 package. See the documentation and vignettes of</span>
<span class="co">#' that package to learn how to use roxygen.</span>
<span class="co">#'</span>
<span class="co">#' @param pkg package description, can be path or package name.  See</span>
<span class="co">#'   [as.package()] for more information</span>
<span class="co">#' @param clean,reload Deprecated.</span>
<span class="co">#' @inheritParams roxygen2::roxygenise</span>
<span class="co">#' @seealso [roxygen2::roxygenize()], `browseVignettes("roxygen2")`</span>
<span class="co">#' @export</span>
<span class="co">#' @md</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="syntax">Syntax<a class="anchor" aria-label="anchor" href="#syntax"></a>
</h2>
<div class="section level3">
<h3 id="sections">Sections<a class="anchor" aria-label="anchor" href="#sections"></a>
</h3>
<p>The usual markdown heading markup creates sections and subsections. Top level headings, i.e. ‘<code>#</code>’ create sections, via the <code>\section{}</code> Rd tag. ‘<code>#</code>’ may only appear after the <code>@description</code> and <code>@details</code> tags. Since <code>@details</code> can appear multiple times in a block, you can always precede a ‘<code>#</code>’ section with <code>@details</code>, if you prefer to place it towards the end of the block, after <code>@return</code> for example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @details</span>
<span class="co">#' Trim the leading and trailing whitespace from a character vector.</span>
<span class="co">#'</span>
<span class="co">#' @param x Character vector.</span>
<span class="co">#' @return Character vector, with the whitespace trimmed.</span>
<span class="co">#'</span>
<span class="co">#' @details # This will be a new section</span>
<span class="co">#' ...</span></code></pre></div>
<p>Top level sections are always placed at a fixed position in the manual page, after the parameters and the details, but before <code>\note{}</code>, <code>\seealso{}</code> and the <code>\examples{}</code>. Their order will be the same as in the roxygen block.</p>
</div>
<div class="section level3">
<h3 id="subsections">Subsections<a class="anchor" aria-label="anchor" href="#subsections"></a>
</h3>
<p>Headings at level two and above may appear inside any roxygen tag that formats lines of text. E.g. <code>@description</code>, <code>@details</code>, <code>@return</code>, etc. They create subsections, via the <code>\subsection{}</code> Rd tag. They are allowed within top level sections as well, i.e. after ‘<code>#</code>’. Subsections can be nested. Example:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @details</span>
<span class="co">#' ## Subsection within details</span>
<span class="co">#' ### Sub-subsection</span>
<span class="co">#' ... text ...</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="emphasis">Emphasis<a class="anchor" aria-label="anchor" href="#emphasis"></a>
</h3>
<p><em>Emphasis</em> and <strong>strong</strong> (bold) text are supported. For emphasis, put the text between asterisks or underline characters. For strong text, use two asterisks at both sides.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @references</span>
<span class="co">#' Robert E Tarjan and Mihalis Yannakakis. (1984). Simple</span>
<span class="co">#' linear-time algorithms to test chordality of graphs, test acyclicity</span>
<span class="co">#' of hypergraphs, and selectively reduce acyclic hypergraphs.</span>
<span class="co">#' *SIAM Journal of Computation* **13**, 566-579.</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' See `::is_falsy` for the definition of what is _falsy_</span>
<span class="co">#' and what is _truthy_.</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="code">Code<a class="anchor" aria-label="anchor" href="#code"></a>
</h3>
<p>Inline code is supported via backticks.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @param ns Optionally, a named vector giving prefix-url pairs, as</span>
<span class="co">#'   produced by `xml_ns`. If provided, all names will be explicitly</span>
<span class="co">#'   qualified with the ns prefix, i.e. if the element `bar` is defined ...</span></code></pre></div>
<p>You can also use this syntax to run custom R code and insert its output into the manual page. See section ‘Dynamic R code’ below.</p>
<p>For blocks of code, put your code between triple backticks:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' ```</span>
<span class="co">#' pkg &lt;- make_packages(</span>
<span class="co">#'   foo1 = { f &lt;- function() print("hello!") ; d &lt;- 1:10 },</span>
<span class="co">#'   foo2 = { f &lt;- function() print("hello again!") ; d &lt;- 11:20 }</span>
<span class="co">#' )</span>
<span class="co">#' foo1::f()</span>
<span class="co">#' foo2::f()</span>
<span class="co">#' foo1::d</span>
<span class="co">#' foo2::d</span>
<span class="co">#' dispose_packages(pkg)</span>
<span class="co">#' ```</span></code></pre></div>
<p>Note that this is not needed in <code>@examples</code>, since its contents are formatted as R code, anyway.</p>
<p>You can use similar syntax to include a block of R code and/or its output in the manual page. See section ‘Dynamic R code’ below.</p>
</div>
<div class="section level3">
<h3 id="lists">Lists<a class="anchor" aria-label="anchor" href="#lists"></a>
</h3>
<p>Regular Markdown lists are recognized and converted to <code>\enumerate{}</code> or <code>\itemize{}</code> lists:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' There are two ways to use this function:</span>
<span class="co">#' 1. If its first argument is not named, then it returns a function</span>
<span class="co">#'    that can be used to color strings.</span>
<span class="co">#' 1. If its first argument is named, then it also creates a</span>
<span class="co">#'    style with the given name. This style can be used in</span>
<span class="co">#'    `style`. One can still use the return value</span>
<span class="co">#'    of the function, to create a style function.</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' The style (the `...` argument) can be anything of the</span>
<span class="co">#' following:</span>
<span class="co">#' * An R color name, see `colors()`.</span>
<span class="co">#' * A 6- or 8-digit hexa color string, e.g. `#ff0000` means</span>
<span class="co">#'   red. Transparency (alpha channel) values are ignored.</span>
<span class="co">#' * A one-column matrix with three rows for the red, green</span>
<span class="co">#'   and blue channels, as returned by [grDevices::col2rgb()]</span></code></pre></div>
<p>Nested lists are also supported.</p>
<p>Note that you do not have to leave an empty line before the list. This is different from some markdown parsers.</p>
</div>
<div class="section level3">
<h3 id="tables">Tables<a class="anchor" aria-label="anchor" href="#tables"></a>
</h3>
<p>Use <a href="https://github.github.com/gfm/#tables-extension-" class="external-link">GFM table formatting</a>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="op">|</span><span class="st"> </span>foo <span class="op">|</span><span class="st"> </span>bar <span class="op">|</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="er">|</span><span class="st"> </span><span class="op">---</span><span class="st"> </span><span class="er">|</span><span class="st"> </span><span class="op">---</span><span class="st"> </span><span class="er">|</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="er">|</span><span class="st"> </span>baz <span class="op">|</span><span class="st"> </span>bim <span class="op">|</span></span></code></pre></div>
<p>By default, columns are left-aligned. Use colons to generate right and center aligned columns:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="op">|</span><span class="st"> </span>left <span class="op">|</span><span class="st"> </span>center <span class="op">|</span><span class="st"> </span>right <span class="op">|</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="er">|</span><span class="st"> </span><span class="er">:</span><span class="op">---</span><span class="st"> </span><span class="er">|</span><span class="st"> </span><span class="er">:</span><span class="op">----</span><span class="er">:</span><span class="st"> </span><span class="er">|</span><span class="st"> </span><span class="op">----</span><span class="er">:</span><span class="st"> </span><span class="er">|</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="er">|</span><span class="st"> </span><span class="dv">1</span>    <span class="op">|</span><span class="st"> </span><span class="dv">2</span>      <span class="op">|</span><span class="st"> </span><span class="dv">3</span>     <span class="op">|</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="links">Links<a class="anchor" aria-label="anchor" href="#links"></a>
</h3>
<p>Markdown hyperlinks work as usual:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' See more about the markdown markup at the</span>
<span class="co">#' [Commonmark web site](http://commonmark.org/help)</span></code></pre></div>
<p>URLs inside angle brackets are also automatically converted to hyperlinks:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' The main R web site is at &lt;https://r-project.org&gt;.</span></code></pre></div>
<p>Markdown notation can also be used to create links to other help topics. There are two basic forms:</p>
<ul>
<li>
<code>[ref]</code>: The target topic and the link text are one and the same.</li>
<li>
<code>[text][ref]</code>: Link text differs from the target.</li>
</ul>
<p>First we explore the simplest form: <code>[ref]</code>. The presence of trailing parentheses, e.g., <code>[func()]</code>, signals that the target <code>func</code> is a function, which causes two things to happen:</p>
<ul>
<li>The link text <code>func()</code> is automatically typeset as code.</li>
<li>The parentheses are stripped in the derived Rd link target.</li>
</ul>
<table class="table">
<colgroup>
<col width="22%">
<col width="27%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th align="left">
<code>[ref]</code><br>
examples</th>
<th align="left">Links to help<br>
topic for …</th>
<th align="left">Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">
<code>[func()]</code><br><code>[pkg::func()]</code>
</td>
<td align="left">a function in same<br>
package or in <code>pkg</code>
</td>
<td align="left">Always typeset as code.<br>
Produces Rd: <code>\code{\link[=func]{func()}}</code><br>
or <code>\code{\link[pkg:func]{pkg::func()}}</code>
</td>
</tr>
<tr class="even">
<td align="left">
<code>[thing]</code><br><code>[pkg::thing]</code>
</td>
<td align="left">a topic in same<br>
package or in <code>pkg</code>
</td>
<td align="left">Use for a topic that documents <code>NULL</code> and name is set<br>
via <code>@name</code>, e.g., a dataset or concept.<br>
Not typeset as code.<br>
Produces Rd: <code>\link{thing}</code> or<br><code>\link[pkg:thing]{pkg::thing}</code>
</td>
</tr>
<tr class="odd">
<td align="left">
<code>[`thing`]</code><br><code>[`pkg::thing`]</code>
</td>
<td align="left">a topic in same<br>
package or in <code>pkg</code>
</td>
<td align="left">Same as above, but explicit backticks<br>
mean that it <strong>is</strong> typeset as code.<br>
Good for documenting a class.<br>
Produces Rd: <code>\code{\link{thing}}</code> or<br><code>\code{\link[pkg:thing]{pkg::thing}</code>}</td>
</tr>
</tbody>
</table>
<p>Use the second form <code>[text][ref]</code> to link to the topic specified by <code>ref</code>, but with <code>text</code> as the link text.</p>
<table class="table">
<colgroup>
<col width="30%">
<col width="31%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th align="left">
<code>[text][ref]</code><br>
examples</th>
<th align="left">Links to help<br>
topic for …</th>
<th align="left">Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">
<code>[text][func()]</code><br><code>[text][pkg::func()]</code>
</td>
<td align="left">a function in same<br>
package or in <code>pkg</code>
</td>
<td align="left">Text is not typeset as code.<br>
Produces Rd: <code>\link[=func]{text}</code> or<br><code>\link[pkg:func]{text}</code>
</td>
</tr>
<tr class="even">
<td align="left">
<code>[text][thing]</code><br><code>[text][pkg::thing]</code>
</td>
<td align="left">a topic in same<br>
package or in <code>pkg</code>
</td>
<td align="left">Text is not typeset as code.<br>
Use for a topic that documents <code>NULL</code><br>
and name is set via <code>@name</code>,<br>
e.g., a dataset or concept.<br>
Produces Rd: <code>\link[=thing]{text}</code> or<br><code>\link[pkg:thing]{text}</code>
</td>
</tr>
</tbody>
</table>
<p>In the <code>[text][ref]</code>, the link text is treated like normal text by default.</p>
<ul>
<li>Use backticks to typeset the link text as code: <code>[`text`][ref]</code>.</li>
</ul>
<p>It is never appropriate to use backticks around the <code>ref</code> in this form.</p>
<ul>
<li>No, do not do this: <code>[text][`blah-blah`]</code>
</li>
<li>Yes, do this instead: <code>[text][blah-blah]</code>
</li>
</ul>
<p>S3 and S4 class <em>not done yet</em></p>
<table class="table">
<colgroup>
<col width="31%">
<col width="32%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th align="left">Examples</th>
<th align="left">Help topic<br>
for what?</th>
<th align="left">Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">
<code>[abc-class]</code><br><code>[pkg::abc-class]</code>
</td>
<td align="left">an S4 class named<br>
“abc” in same package<br>
or in <code>pkg</code>
</td>
<td align="left">In Rd: <code>\linkS4class{abc}</code> or<br><code>\link[pkg:abc-class]{pkg::abc}</code>
</td>
</tr>
<tr class="even">
<td align="left"><code>[abc][abc-class]</code></td>
<td align="left">*is this a thing?</td>
<td align="left">??? <code>\link[=abc-class]{abc}</code>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="images">Images<a class="anchor" aria-label="anchor" href="#images"></a>
</h3>
<p>Markdown syntax for inline images works. The image files must be in the <code>man/figures</code> directory:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Here is an example plot:</span>
<span class="co">#' ![](example-plot.jpg "Example Plot Title")</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="dynamic-r-code">Dynamic R code<a class="anchor" aria-label="anchor" href="#dynamic-r-code"></a>
</h2>
<p>Similarly to the knitr package, you can use the markdown inline code markup or markdown code blocks to evaluate R code and insert its output into the manual page.</p>
<div class="section level3">
<h3 id="inline-code">Inline code<a class="anchor" aria-label="anchor" href="#inline-code"></a>
</h3>
<p>To do this, prefix the code with <code>r</code>, i.e. the lowercase letter ‘r’ and a space character. Roxygen will interpret the rest of the text within backticks as R code and evaluate it, and replace the backtick expression with its value. After all such substitutions, the text of the whole tag is interpreted as markdown, as usual.</p>
<p>For example, the following will insert the date and the R version of the roxygen run.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' Roxygen created this manual page on `r Sys.Date()` using R version</span>
<span class="co">#' `r getRversion()`.</span></code></pre></div>
<p>The value of the R expression is converted to a character string, with <code>paste(collapse = "\n")</code>. So you don’t need explicitly convert to a character value, numeric values or any R object with an <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code> S3 method is fine. Also, you can insert multiple lines by returning a character vector. If you want to run R code without inserting any output, return an empty string or <code>NULL</code>.</p>
<p>The value of the expression is inserted into the text of the tag without interpreting it, before the markdown to <code>.Rd</code> conversion, so you can create markdown markup dynamically:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' The `iris` data set has `r ncol(iris)` columns:</span>
<span class="co">#' `r paste0("``", colnames(iris), "``", collapse = ", ")`.</span></code></pre></div>
<p>Note that you need to escape backtick characters, if they appear in the R expression, by doubling them, like above. The result after the dynamic R code evaluation will be:</p>
<pre><code>The `iris` data set has 5 columns:
`Sepal.Length`, `Sepal.Width`, `Petal.Length`, `Petal.Width`, `Species`.</code></pre>
<p>And the final result in the <code>.Rd</code> file will look as:</p>
<pre><code>The \code{iris} data set has 5 columns:
\code{Sepal.Length}, \code{Sepal.Width}, \code{Petal.Length}, \code{Petal.Width}, \code{Species}.</code></pre>
<p>The R code is evaluated in a new environment that is the child of the package environment of the package you are documenting. This means that you can call (internal or exported) functions of the package. <code><a href="https://rdrr.io/r/utils/packageName.html" class="external-link">packageName()</a></code> will also report the name of the package:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' To insert the name of the current package: `r packageName()`.</span></code></pre></div>
<p>A new evaluation environment is created for each roxygen <em>block</em>. So the output of this code:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @title ... `r myvar &lt;- "foo"; NULL` `r myvar`</span>
<span class="co">#'</span>
<span class="co">#' @description ... `r myvar`</span></code></pre></div>
<p>will be:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' @title ... foo</span>
<span class="co">#'</span>
<span class="co">#' @description ... foo</span></code></pre></div>
<p>Currently the whole code expression must be on the same line, multi-line expressions are not supported.</p>
</div>
<div class="section level3">
<h3 id="code-blocks">Code blocks<a class="anchor" aria-label="anchor" href="#code-blocks"></a>
</h3>
<p>Markdown code blocks can be dynamic as well, if you use ```{r} to start them, just like in knitr documents.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' ```{r}</span>
<span class="co">#' # This block of code will be evaluated</span>
<span class="co">#' summary(iris)</span>
<span class="co">#' ```</span></code></pre></div>
<p>Within a roxygen block, code blocks and inline code use the same evaluation environment, so variables created in one of them can be used in others.</p>
<p>Code blocks support knitr chunk options, e.g. to keep the output of several expressions together, you can specify <code>results= "hold"</code>:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' ```{r results = "hold"}</span>
<span class="co">#' names(mtcars)</span>
<span class="co">#' nrow(mtcars)</span>
<span class="co">#' ```</span></code></pre></div>
<p>Plots will create <code>.png</code> files in the <code>man/figures</code> directory. The file names are created from the chunk names:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' ```{r iris-pairs-plot}</span>
<span class="co">#' pairs(iris[1:4], main = "Anderson's Iris Data -- 3 species",</span>
<span class="co">#'   pch = 21, bg = c("red", "green3", "blue")[unclass(iris$Species)])</span>
<span class="co">#' ```</span></code></pre></div>
<p>Note that the generated <code>.png</code> files will be added to the package, and they can considerably increase the size of the package.</p>
<p>Note that code block support is currently experimental, and somewhat limited. Some of the known limitations:</p>
<ul>
<li>Because the code blocks are evaluated individually, they cannot refer to each other.</li>
<li>Some knitr chunk options are reset at the start of every code block, so if you want to change these, you’ll have to specify them for every chunk. These are currently <code>error</code>, <code>fig.path</code>, <code>fig.process</code>.</li>
<li>Some knitr options might not create meaningful output.</li>
<li>The markdown code runs every time you call <code><a href="../reference/roxygenize.html">roxygenize()</a></code> (or <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code>) to generated the Rd files. This potentially makes <code><a href="../reference/roxygenize.html">roxygenize()</a></code> (much) slower. You can turn on knitr caching as usual, but make sure to omit the cache from the package.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="roxygen-and-rd-tags-not-parsed-as-markdown">Roxygen and Rd tags <em>not</em> parsed as markdown<a class="anchor" aria-label="anchor" href="#roxygen-and-rd-tags-not-parsed-as-markdown"></a>
</h2>
<p>Some of the roxygen tags are not parsed as markdown. Most of these are unlikely to contain text that needs markup, so this is not an important restriction. Tags without markdown support: <code>@aliases</code>, <code>@backref</code>, <code>@docType</code>, <code>@encoding</code>, <code>@evalRd</code>, <code>@example</code>, <code>@examples</code>, <code>@family</code>, <code>@inheritParams</code>, <code>@keywords</code>, <code>@method</code> <code>@name</code>, <code>@md</code>, <code>@noMd</code>, <code>@noRd</code>, <code>@rdname</code>, <code>@rawRd</code>, <code>@usage</code>.</p>
<p>When mixing <code>Rd</code> and markdown notation, most <code>Rd</code> tags may contain markdown markup, the ones that can <em>not</em> are: <code>\acronym</code>, <code>\code</code>, <code>\command</code>, <code>\CRANpkg</code>, <code>\deqn</code>, <code>\doi</code>, <code>\dontrun</code>, <code>\dontshow</code>, <code>\donttest</code>, <code>\email</code>, <code>\env</code>, <code>\eqn</code>, <code>\figure</code>, <code>\file</code>, <code>\if</code>, <code>\ifelse</code>, <code>\kbd</code>, <code>\link</code>, <code>\linkS4class</code>, <code>\method</code>, <code>\newcommand</code>, <code>\option</code>, <code>\out</code>, <code>\packageAuthor</code>, <code>\packageDescription</code>, <code>\packageDESCRIPTION</code>, <code>\packageIndices</code>, <code>\packageMaintainer</code>, <code>\packageTitle</code>, <code>\pkg</code>, <code>\PR</code>, <code>\preformatted</code>, <code>\renewcommand</code>, <code>\S3method</code>, <code>\S4method</code>, <code>\samp</code>, <code>\special</code>, <code>\testonly</code>, <code>\url</code>, <code>\var</code>, <code>\verb</code>.</p>
</div>
<div class="section level2">
<h2 id="possible-problems">Possible problems<a class="anchor" aria-label="anchor" href="#possible-problems"></a>
</h2>
<div class="section level3">
<h3 id="mixing-markdown-and-rd-markup">Mixing markdown and <code>Rd</code> markup<a class="anchor" aria-label="anchor" href="#mixing-markdown-and-rd-markup"></a>
</h3>
<p>Note that turning on markdown does <em>not</em> turn off the standard <code>Rd</code> syntax. We suggest that you use the regular <code>Rd</code> tags in a markdown roxygen chunk only if necessary. The two parsers do occasionally interact, and the markdown parser can pick up and reformat Rd syntax, causing an error, or corrupted manuals.</p>
</div>
<div class="section level3">
<h3 id="leading-whitespace">Leading whitespace<a class="anchor" aria-label="anchor" href="#leading-whitespace"></a>
</h3>
<p>Leading whitespace is interpreted by the commonmark parser, whereas it is ignored by the <code>Rd</code> parser (except in <code>\preformatted{}</code>). Make sure that you only include leading whitespace intentionally, for example for nested lists.</p>
</div>
<div class="section level3">
<h3 id="spurious-lists">Spurious lists<a class="anchor" aria-label="anchor" href="#spurious-lists"></a>
</h3>
<p>The Commonmark parser does not require an empty line before lists, and this might lead to unintended lists if a line starts with a number followed by a dot, or with an asterisk followed by whitespace:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' You can see more about this topic in the book cited below, on page</span>
<span class="co">#' 42. Clearly, the numbered list that starts here is not intentional.</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="links-to-operators">Links to operators<a class="anchor" aria-label="anchor" href="#links-to-operators"></a>
</h3>
<p>Links to operators or objects that contain special characters, do not work currently. E.g. to link to the <code>%&gt;%</code> operator in the <code>magrittr</code> package, instead of <code>[magrittr::%&gt;%]</code>, you will need to use the <code>Rd</code> notation: <code>\code{\link[magrittr]{\%&gt;\%}}</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="rd-syntax">Rd syntax<a class="anchor" aria-label="anchor" href="#rd-syntax"></a>
</h2>
<p>Within roxygen tags, you can use <code>.Rd</code> syntax to format text. Below we show you examples of the most important <code>.Rd</code> markup commands. The full details are described in <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Marking-text" class="external-link">R extensions</a>. Before roxygen version 6.0.0 this was the only supported syntax. Now all of the formatting described below can be achived more easily with markdown syntax, with the important exception of <a href="https://cran.r-project.org/doc/manuals/R-exts.html#Mathematics" class="external-link">mathematical expressions</a>.</p>
<p>Note that <code>\</code> and <code>%</code> are special characters. To insert literals, escape with a backslash: <code>\\</code>, <code>\%</code>.</p>
<div class="section level3">
<h3 id="character-formatting">Character formatting<a class="anchor" aria-label="anchor" href="#character-formatting"></a>
</h3>
<ul>
<li><p><code>\emph{italics}</code></p></li>
<li><p><code>\strong{bold}</code></p></li>
<li><p><code>\code{r_function_call(with = "arguments")}</code>, <code>\code{NULL}</code>, <code>\code{TRUE}</code></p></li>
<li><p><code>\pkg{package_name}</code></p></li>
</ul>
</div>
<div class="section level3">
<h3 id="links-1">Links<a class="anchor" aria-label="anchor" href="#links-1"></a>
</h3>
<p>To other documentation:</p>
<ul>
<li><p><code>\code{\link{function}}</code>: function in this package</p></li>
<li><p><code>\code{\link[MASS]{abbey}}</code>: function in another package</p></li>
<li><p><code>\link[=dest]{name}</code>: link to dest, but show name</p></li>
<li><p><code>\code{\link[MASS:abbey]{name}}</code>: link to function in another package, but show name.</p></li>
<li><p><code>\linkS4class{abc}</code>: link to an S4 class</p></li>
</ul>
<p>To the web:</p>
<ul>
<li><p><code>\url{http://rstudio.com}</code></p></li>
<li><p><code>\href{http://rstudio.com}{Rstudio}</code></p></li>
<li><p><code>\email{hadley@@rstudio.com}</code> (note the doubled <code>@</code>)</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="lists-1">Lists<a class="anchor" aria-label="anchor" href="#lists-1"></a>
</h3>
<ul>
<li>
<p>Ordered (numbered) lists:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' \enumerate{</span>
<span class="co">#'   \item First item</span>
<span class="co">#'   \item Second item</span>
<span class="co">#' }</span></code></pre></div>
</li>
<li>
<p>Unordered (bulleted) lists</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' \itemize{</span>
<span class="co">#'   \item First item</span>
<span class="co">#'   \item Second item</span>
<span class="co">#' }</span></code></pre></div>
</li>
<li>
<p>Definition (named) lists</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#' \describe{</span>
<span class="co">#'   \item{One}{First item}</span>
<span class="co">#'   \item{Two}{Second item}</span>
<span class="co">#' }</span></code></pre></div>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="mathematics">Mathematics<a class="anchor" aria-label="anchor" href="#mathematics"></a>
</h3>
<p>Standard LaTeX (with no extensions):</p>
<ul>
<li><p><code>\eqn{a + b}</code>: inline equation</p></li>
<li><p><code>\deqn{a + b}</code>: display (block) equation</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="tables-1">Tables<a class="anchor" aria-label="anchor" href="#tables-1"></a>
</h3>
<p>Tables are created with <code>\tabular{}</code>. It has two arguments:</p>
<ol style="list-style-type: decimal">
<li><p>Column alignment, specified by letter for each column (<code>l</code> = left, <code>r</code> = right, <code>c</code> = centre.)</p></li>
<li><p>Table contents, with columns separated by <code>\tab</code> and rows by <code>\cr</code>.</p></li>
</ol>
<p>The following function turns an R data frame into the correct format, adding a row consisting of the (bolded) column names and prepending each row with <code>#'</code> for pasting directly into the documentation.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tabular</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">is.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>

  <span class="va">align</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="st">"r"</span> <span class="kw">else</span> <span class="st">"l"</span>
  <span class="va">col_align</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_chr</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">align</span><span class="op">)</span>

  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">format</span>, <span class="va">...</span><span class="op">)</span>
  <span class="va">contents</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="st">"paste"</span>,
    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">cols</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sep <span class="op">=</span> <span class="st">" \\tab "</span>, collapse <span class="op">=</span> <span class="st">"\\cr\n#'   "</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"#' \\tabular{"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">col_align</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span>, <span class="st">"}{\n#'   "</span>,
    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"\\strong{"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>, <span class="st">"}"</span>, sep <span class="op">=</span> <span class="st">""</span>, collapse <span class="op">=</span> <span class="st">" \\tab "</span><span class="op">)</span>, <span class="st">" \\cr\n#'   "</span>,
    <span class="va">contents</span>, <span class="st">"\n#' }\n"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu">tabular</span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; #' \tabular{rrrrr}{</span>
<span class="co">#&gt; #'   \strong{mpg} \tab \strong{cyl} \tab \strong{disp} \tab \strong{hp} \tab \strong{drat} \cr</span>
<span class="co">#&gt; #'   21.0 \tab 6 \tab 160 \tab 110 \tab 3.90\cr</span>
<span class="co">#&gt; #'   21.0 \tab 6 \tab 160 \tab 110 \tab 3.90\cr</span>
<span class="co">#&gt; #'   22.8 \tab 4 \tab 108 \tab  93 \tab 3.85\cr</span>
<span class="co">#&gt; #'   21.4 \tab 6 \tab 258 \tab 110 \tab 3.08\cr</span>
<span class="co">#&gt; #'   18.7 \tab 8 \tab 360 \tab 175 \tab 3.15</span>
<span class="co">#&gt; #' }</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Hadley Wickham, Peter Danenberg, Gábor Csárdi, Manuel Eugster.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
